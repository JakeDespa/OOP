{"ast":null,"code":"import axios from 'axios';\nimport { User } from '../models/User';\nimport { Task } from '../models/Task';\nimport { Category } from '../models/Category';\nimport { Tag } from '../models/Tag';\nconst API_BASE_URL = 'http://localhost:5000/api';\nclass ApiClient {\n  constructor() {\n    this.client = void 0;\n    this.client = axios.create({\n      baseURL: API_BASE_URL\n    });\n    this.client.interceptors.request.use(this.authInterceptor);\n  }\n  authInterceptor(config) {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }\n\n  // --- Auth ---\n  async register(userData) {\n    const {\n      data\n    } = await this.client.post('/auth/register', userData);\n    return new User(data.name, data.email, data.userid, data.profilepicture);\n  }\n  async login(credentials) {\n    const {\n      data\n    } = await this.client.post('/auth/login', credentials);\n    const user = new User(data.user.name, data.user.email, data.user.userid, data.user.profilepicture);\n    localStorage.setItem('token', data.token);\n    localStorage.setItem('user', JSON.stringify({\n      userID: user.userID,\n      name: user.name,\n      email: user.email,\n      profilePicture: user.profilePicture\n    }));\n    return {\n      token: data.token,\n      user\n    };\n  }\n  logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  }\n\n  // --- User Profile ---\n  async changePassword(currentPassword, newPassword) {\n    await this.client.post('/users/change-password', {\n      currentPassword,\n      newPassword\n    });\n  }\n  async uploadProfilePicture(profilePictureBase64) {\n    const {\n      data\n    } = await this.client.post('/users/upload-profile-picture', {\n      profilePicture: profilePictureBase64\n    });\n    return new User(data.name, data.email, data.userid, data.profilepicture);\n  }\n  async deleteProfilePicture() {\n    await this.client.delete('/users/profile-picture');\n  }\n\n  // --- Tasks ---\n  async getTasks() {\n    const {\n      data\n    } = await this.client.get('/tasks');\n    return data.map(t => new Task(t.taskid, t.title, t.description, t.duedate, t.priority, t.status));\n  }\n  async createTask(taskData) {\n    const {\n      data\n    } = await this.client.post('/tasks', taskData);\n    return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\n  }\n  async updateTask(taskId, taskData) {\n    const {\n      data\n    } = await this.client.put(`/tasks/${taskId}`, taskData);\n    return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\n  }\n  async deleteTask(taskId) {\n    await this.client.delete(`/tasks/${taskId}`);\n  }\n  async getTaskQRCode(taskId) {\n    const {\n      data\n    } = await this.client.get(`/tasks/${taskId}/qrcode`);\n    return data.qrCode;\n  }\n\n  // --- Categories ---\n  async getCategories() {\n    const {\n      data\n    } = await this.client.get('/categories');\n    return data.map(c => new Category(c.categoryid, c.name, c.color));\n  }\n  async createCategory(categoryData) {\n    const {\n      data\n    } = await this.client.post('/categories', categoryData);\n    return new Category(data.categoryid, data.name, data.color);\n  }\n\n  // --- Tags ---\n  async getTags() {\n    const {\n      data\n    } = await this.client.get('/tags');\n    return data.map(t => new Tag(t.tagid, t.name));\n  }\n  async createTag(tagData) {\n    const {\n      data\n    } = await this.client.post('/tags', tagData);\n    return new Tag(data.tagid, data.name);\n  }\n}\nexport default new ApiClient();","map":{"version":3,"names":["axios","User","Task","Category","Tag","API_BASE_URL","ApiClient","constructor","client","create","baseURL","interceptors","request","use","authInterceptor","config","token","localStorage","getItem","headers","Authorization","register","userData","data","post","name","email","userid","profilepicture","login","credentials","user","setItem","JSON","stringify","userID","profilePicture","logout","removeItem","changePassword","currentPassword","newPassword","uploadProfilePicture","profilePictureBase64","deleteProfilePicture","delete","getTasks","get","map","t","taskid","title","description","duedate","priority","status","createTask","taskData","updateTask","taskId","put","deleteTask","getTaskQRCode","qrCode","getCategories","c","categoryid","color","createCategory","categoryData","getTags","tagid","createTag","tagData"],"sources":["C:/Users/Jake Despa/Desktop/1.21.3/bitsuelas/frontend/src/services/ApiClient.ts"],"sourcesContent":["import axios, { AxiosInstance, InternalAxiosRequestConfig } from 'axios';\r\nimport { User } from '../models/User';\r\nimport { Task } from '../models/Task';\r\nimport { Category } from '../models/Category';\r\nimport { Tag } from '../models/Tag';\r\n\r\nconst API_BASE_URL = 'http://localhost:5000/api';\r\n\r\nclass ApiClient {\r\n    private client: AxiosInstance;\r\n\r\n    constructor() {\r\n        this.client = axios.create({\r\n            baseURL: API_BASE_URL,\r\n        });\r\n\r\n        this.client.interceptors.request.use(this.authInterceptor);\r\n    }\r\n\r\n    private authInterceptor(config: InternalAxiosRequestConfig): InternalAxiosRequestConfig {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    }\r\n\r\n    // --- Auth ---\r\n    public async register(userData: any): Promise<User> {\r\n        const { data } = await this.client.post('/auth/register', userData);\r\n        return new User(data.name, data.email, data.userid, data.profilepicture);\r\n    }\r\n\r\n    public async login(credentials: any): Promise<{ token: string, user: User }> {\r\n        const { data } = await this.client.post('/auth/login', credentials);\r\n        const user = new User(data.user.name, data.user.email, data.user.userid, data.user.profilepicture);\r\n        localStorage.setItem('token', data.token);\r\n        localStorage.setItem('user', JSON.stringify({\r\n            userID: user.userID,\r\n            name: user.name,\r\n            email: user.email,\r\n            profilePicture: user.profilePicture,\r\n        }));\r\n        return { token: data.token, user };\r\n    }\r\n\r\n    public logout(): void {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n    }\r\n\r\n    // --- User Profile ---\r\n    public async changePassword(currentPassword: string, newPassword: string): Promise<void> {\r\n        await this.client.post('/users/change-password', {\r\n            currentPassword,\r\n            newPassword,\r\n        });\r\n    }\r\n\r\n    public async uploadProfilePicture(profilePictureBase64: string): Promise<User> {\r\n        const { data } = await this.client.post('/users/upload-profile-picture', {\r\n            profilePicture: profilePictureBase64,\r\n        });\r\n        return new User(data.name, data.email, data.userid, data.profilepicture);\r\n    }\r\n\r\n    public async deleteProfilePicture(): Promise<void> {\r\n        await this.client.delete('/users/profile-picture');\r\n    }\r\n\r\n    // --- Tasks ---\r\n    public async getTasks(): Promise<Task[]> {\r\n        const { data } = await this.client.get('/tasks');\r\n        return data.map((t: any) => new Task(t.taskid, t.title, t.description, t.duedate, t.priority, t.status));\r\n    }\r\n    \r\n    public async createTask(taskData: any): Promise<Task> {\r\n        const { data } = await this.client.post('/tasks', taskData);\r\n        return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\r\n    }\r\n\r\n    public async updateTask(taskId: number, taskData: any): Promise<Task> {\r\n        const { data } = await this.client.put(`/tasks/${taskId}`, taskData);\r\n        return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\r\n    }\r\n\r\n    public async deleteTask(taskId: number): Promise<void> {\r\n        await this.client.delete(`/tasks/${taskId}`);\r\n    }\r\n    \r\n    public async getTaskQRCode(taskId: number): Promise<string> {\r\n        const { data } = await this.client.get(`/tasks/${taskId}/qrcode`);\r\n        return data.qrCode;\r\n    }\r\n\r\n    // --- Categories ---\r\n    public async getCategories(): Promise<Category[]> {\r\n        const { data } = await this.client.get('/categories');\r\n        return data.map((c: any) => new Category(c.categoryid, c.name, c.color));\r\n    }\r\n    \r\n    public async createCategory(categoryData: any): Promise<Category> {\r\n        const { data } = await this.client.post('/categories', categoryData);\r\n        return new Category(data.categoryid, data.name, data.color);\r\n    }\r\n\r\n    // --- Tags ---\r\n    public async getTags(): Promise<Tag[]> {\r\n        const { data } = await this.client.get('/tags');\r\n        return data.map((t: any) => new Tag(t.tagid, t.name));\r\n    }\r\n    \r\n    public async createTag(tagData: any): Promise<Tag> {\r\n        const { data } = await this.client.post('/tags', tagData);\r\n        return new Tag(data.tagid, data.name);\r\n    }\r\n}\r\n\r\nexport default new ApiClient();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}