{"ast":null,"code":"import axios from 'axios';\nimport { User } from '../models/User';\nimport { Task } from '../models/Task';\nimport { Category } from '../models/Category';\nimport { Tag } from '../models/Tag';\nconst API_BASE_URL = 'http://localhost:5000/api';\nclass ApiClient {\n  constructor() {\n    this.client = void 0;\n    this.client = axios.create({\n      baseURL: API_BASE_URL\n    });\n    this.client.interceptors.request.use(this.authInterceptor, Promise.reject);\n  }\n  authInterceptor(config) {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.set('Authorization', `Bearer ${token}`);\n    }\n    return config;\n  }\n\n  // --- Auth ---\n  async register(userData) {\n    const {\n      data\n    } = await this.client.post('/auth/register', userData);\n    return new User(data.name, data.email, data.userid);\n  }\n  async login(credentials) {\n    const {\n      data\n    } = await this.client.post('/auth/login', credentials);\n    const user = new User(data.user.name, data.user.email, data.user.userid);\n    localStorage.setItem('token', data.token);\n    return {\n      token: data.token,\n      user\n    };\n  }\n  logout() {\n    localStorage.removeItem('token');\n  }\n\n  // --- Tasks ---\n  async getTasks() {\n    const {\n      data\n    } = await this.client.get('/tasks');\n    return data.map(t => new Task(t.taskid, t.title, t.description, t.duedate, t.priority, t.status));\n  }\n  async createTask(taskData) {\n    const {\n      data\n    } = await this.client.post('/tasks', taskData);\n    return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\n  }\n  async updateTask(taskId, taskData) {\n    const {\n      data\n    } = await this.client.put(`/tasks/${taskId}`, taskData);\n    return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\n  }\n  async deleteTask(taskId) {\n    await this.client.delete(`/tasks/${taskId}`);\n  }\n  async getTaskQRCode(taskId) {\n    const {\n      data\n    } = await this.client.get(`/tasks/${taskId}/qrcode`);\n    return data.qrCode;\n  }\n\n  // --- Categories ---\n  async getCategories() {\n    const {\n      data\n    } = await this.client.get('/categories');\n    return data.map(c => new Category(c.categoryid, c.name, c.color));\n  }\n  async createCategory(categoryData) {\n    const {\n      data\n    } = await this.client.post('/categories', categoryData);\n    return new Category(data.categoryid, data.name, data.color);\n  }\n\n  // --- Tags ---\n  async getTags() {\n    const {\n      data\n    } = await this.client.get('/tags');\n    return data.map(t => new Tag(t.tagid, t.name));\n  }\n  async createTag(tagData) {\n    const {\n      data\n    } = await this.client.post('/tags', tagData);\n    return new Tag(data.tagid, data.name);\n  }\n}\nexport default new ApiClient();","map":{"version":3,"names":["axios","User","Task","Category","Tag","API_BASE_URL","ApiClient","constructor","client","create","baseURL","interceptors","request","use","authInterceptor","Promise","reject","config","token","localStorage","getItem","headers","set","register","userData","data","post","name","email","userid","login","credentials","user","setItem","logout","removeItem","getTasks","get","map","t","taskid","title","description","duedate","priority","status","createTask","taskData","updateTask","taskId","put","deleteTask","delete","getTaskQRCode","qrCode","getCategories","c","categoryid","color","createCategory","categoryData","getTags","tagid","createTag","tagData"],"sources":["C:/Users/Jake Despa/Desktop/1.21.3/OOP final/frontend/src/services/ApiClient.ts"],"sourcesContent":["import axios, { AxiosInstance, InternalAxiosRequestConfig } from 'axios';\nimport { User } from '../models/User';\nimport { Task } from '../models/Task';\nimport { Category } from '../models/Category';\nimport { Tag } from '../models/Tag';\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\nclass ApiClient {\n    private client: AxiosInstance;\n\n    constructor() {\n        this.client = axios.create({\n            baseURL: API_BASE_URL,\n        });\n\n        this.client.interceptors.request.use(this.authInterceptor, Promise.reject);\n    }\n\n    private authInterceptor(config: InternalAxiosRequestConfig): InternalAxiosRequestConfig {\n        const token = localStorage.getItem('token');\n        if (token) {\n            config.headers.set('Authorization', `Bearer ${token}`);\n        }\n        return config;\n    }\n\n    // --- Auth ---\n    public async register(userData: any): Promise<User> {\n        const { data } = await this.client.post('/auth/register', userData);\n        return new User(data.name, data.email, data.userid);\n    }\n\n    public async login(credentials: any): Promise<{ token: string, user: User }> {\n        const { data } = await this.client.post('/auth/login', credentials);\n        const user = new User(data.user.name, data.user.email, data.user.userid);\n        localStorage.setItem('token', data.token);\n        return { token: data.token, user };\n    }\n\n    public logout(): void {\n        localStorage.removeItem('token');\n    }\n\n    // --- Tasks ---\n    public async getTasks(): Promise<Task[]> {\n        const { data } = await this.client.get('/tasks');\n        return data.map((t: any) => new Task(t.taskid, t.title, t.description, t.duedate, t.priority, t.status));\n    }\n    \n    public async createTask(taskData: any): Promise<Task> {\n        const { data } = await this.client.post('/tasks', taskData);\n        return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\n    }\n\n    public async updateTask(taskId: number, taskData: any): Promise<Task> {\n        const { data } = await this.client.put(`/tasks/${taskId}`, taskData);\n        return new Task(data.taskid, data.title, data.description, data.duedate, data.priority, data.status);\n    }\n\n    public async deleteTask(taskId: number): Promise<void> {\n        await this.client.delete(`/tasks/${taskId}`);\n    }\n    \n    public async getTaskQRCode(taskId: number): Promise<string> {\n        const { data } = await this.client.get(`/tasks/${taskId}/qrcode`);\n        return data.qrCode;\n    }\n\n    // --- Categories ---\n    public async getCategories(): Promise<Category[]> {\n        const { data } = await this.client.get('/categories');\n        return data.map((c: any) => new Category(c.categoryid, c.name, c.color));\n    }\n    \n    public async createCategory(categoryData: any): Promise<Category> {\n        const { data } = await this.client.post('/categories', categoryData);\n        return new Category(data.categoryid, data.name, data.color);\n    }\n\n    // --- Tags ---\n    public async getTags(): Promise<Tag[]> {\n        const { data } = await this.client.get('/tags');\n        return data.map((t: any) => new Tag(t.tagid, t.name));\n    }\n    \n    public async createTag(tagData: any): Promise<Tag> {\n        const { data } = await this.client.post('/tags', tagData);\n        return new Tag(data.tagid, data.name);\n    }\n}\n\nexport default new ApiClient();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}